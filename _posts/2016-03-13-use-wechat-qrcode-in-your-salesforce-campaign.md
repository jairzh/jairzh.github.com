---
layout: post
title: "利用微信二维码推广 Salesforce 中的市场活动 Campaign"
date: 2016-03-13 08:25:29 +0800
author: jair
comments: true
tags: salesforce campaign
categories: wechat
---

市场活动在 CRM 中是很重要的一项，很多公司都会通过主办各类研讨会、客户交流会、演示会、新产品发布会、体验会等，来吸引自己的潜在客户（Lead）和提高现有客户（Contact）的满意度。当一个公司拥有一定量的客户群体时，就需要一个系统来帮助他们管理和分析每次市场活动。这次给大家介绍如何在 Salesforce CRM 中管理市场活动，同时利用微信二维码来改进客户参与市场活动的过程。

### Salesforce 中的 Campaign

Salesfroce CRM 提供了 Campaign（市场活动）这个数据模型来记录市场活动。常规的使用流程中，当公司决定开展一个市场活动后，在确定了主题、时间和活动经费等以后，需要在 Salesforce 中创建一条对应的 Campaign 记录。当活动开始后，更新 Campagin 的状态，把参与者信息记录下来，创建成 Lead/Contact，然后加到当前这个市场活动中来。活动结束后，可以利用 Salesforce 提供的报表分析功能，来对这次市场活动的效果进行评估和总结。

**问题**：很多时候可能都是线下活动，客户信息都是活动当天收集到，线下的员工应该很忙，不能在第一时间把顾客信息录入到 Salesforce 系统中，所以只能先把客户的信息存放到 Excel 中，活动结束后，再手动导入到系统中。这个过程有的时候很麻烦，而且容易丢失数据。有没有办法可以改进呢？下面我们尝试通过微信公众平台的二维码来解决这个问题。

### Campaign 和微信公众平台结合

现在国内几乎人人都在使用微信，微信公众帐号作为腾讯推出的一个平台，让企业有了一个很好和客户沟通的渠道，二维码作为一种非常方便的推广方式，在推广活动中得到广泛的应用。在查看了微信公众平台的 API 后，发现可以利用微信公众平台服务号特有的带参数二维码，来改进 Salesforce 中的市场活动。

**1. 创建带有微信二维码的 Campaign**

微信公众平台中除了提供每个帐号对应的二维码以外，还提供了一个种可以带参数的二维码。这种二维码，我们可以在生成的时候，指定一个特定的值，当有人用手机扫描这个二维码后，微信就可以把这个特定的值传给服务器。通过这个原理，可以让微信变成一次市场活动的入口。

进入到 Salesforce 中，还是要给一次市场活动创建一个对应的 Campaign，然后通过调用微信公共平台 API 生成一个微信二维码，把这个生成的二维码下载打印出来，放到市场活动的宣传资料上。

**2. 使用二维码收集客户信息**

活动当天，当有客户来到我们的展台时，就可以让客户拿出手机，扫描资料上的二维码，这时候微信服务器就会把扫描事件发给 Salesforce 的服务器，同时加上客户的微信基本信息。当 Salesforce 收到这些信息后，就可以把客户创建成一个 Lead。因为同时微信也发过来了我们曾经在二维码中指定的特定值，这时就可以利用这个特定值找到对应的 Campaign，把生成的 Lead 作为 Campaign Member 加到这个 Campaign 中。

**3. 收集客户更详细的信息**

通过上面两步我们就可以轻松的利用微信二维码的功能，非常方便的把你的客户信息带到 Salesforce 中，同时和某个具体的市场活动关联起来。但是微信出于保护个人隐私的目的，在开放的 API 中并没有提供更详细的个人信息，比如，手机、邮箱等。这个时候会导致我们的创建的 Lead/Contact 并不能和 Salesforce 系统中已有的客户信息关联。为了解决这个问题，我们可以利用微信的事件关联的信息回复功能 ＋ Page(自开发页面）的方式来收集更详细的信息：

1. 创建一个 Page，加入你想收集的 Field
2. 在对应的 Campaign 中添加扫描回复事件，并关联一个消息。消息示例：
> 欢迎参加我们的这次活动，点击消息进行签到，获得此次活动的纪念品。

3. 设置 2 中消息的详细地址指向 1 中创建的 Page

通过上面的三步的设置，当有人通过扫描市场活动的二维码关注公共帐号后，他就会自动收到上面创建的这条消息，同时他可以点击消息，打开创建的 Page，填写预先设置好的 Field。在用户提交后，我们就可以在 Salesforce 中拿到了一个完整的微信Lead了。


如果想体验整个流程，可以到 Salesforce AppExchange 搜索 Charket，在你的 Org 中实际操作体验。
